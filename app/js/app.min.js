document.addEventListener("DOMContentLoaded", () => {
    const widthScreen = window.innerWidth || document.documentElement.clientWidth ||
        document.body.clientWidth;

/*
    function getScrollMenu() {
        let el = document.body;
        if (pageYOffset > 300) {
            el.classList.add('fix_menu');
        } else {
            el.classList.remove("fix_menu");
        }
    }

    getScrollMenu();
    window.addEventListener('scroll', function () {
        getScrollMenu();
    });*/

    if (document.getElementById('nominations')) {
        const sliderBrands = new Swiper('#nominations', {
            spaceBetween: 20,
            slidesPerView: 3,
            slidesPerGroup: 1,
            pagination: {
                el: '#nominationsPage',
                clickable: true,
            },

            breakpoints: {
                300: {
                    slidesPerView: 1,
                    spaceBetween: 16
                },
                440: {
                    slidesPerView: 1,
                    spaceBetween: 16
                },
                768: {
                    slidesPerView: 'auto',
                    spaceBetween: 20
                },
                1199: {
                    slidesPerView: 'auto',
                    spaceBetween: 20
                },
                1300: {
                    slidesPerView: 3,
                    spaceBetween: 20
                },
            },

        });
    }

    if (document.getElementById('newsSlider')) {
        const sliderBrands = new Swiper('#newsSlider', {
            spaceBetween: 6,
            slidesPerView: 3,
            slidesPerGroup: 1,
            loop: true,
            breakpoints: {
                300: {
                    slidesPerView: 1,
                },
                440: {
                    slidesPerView: 1,

                },
                768: {
                    slidesPerView: 2,

                },
                991: {
                    slidesPerView: 3,

                },
                1200: {
                    slidesPerView: 3,

                },
            },

        });
    }

    const jsPass = document.querySelectorAll('.js-pass');

    jsPass.forEach(el => {
        el.addEventListener('click', (event) => {
            if (document.getElementById(el.dataset.target)) {
                let inputPass = document.getElementById(el.dataset.target);
                if (inputPass.type === 'password') {
                    inputPass.type = 'text';
                    el.classList.add('active');
                } else {
                    inputPass.type = 'password';
                    el.classList.remove('active');
                }
            }
        });
    });

    const maskPhone = document.querySelectorAll('.js-mask-phone');
    maskPhone.forEach(el => {
        let im = new Inputmask("+7 999 999-99-99", {"clearIncomplete": true});
        im.mask(el);
    });

    if(document.getElementById('photo')) {
        let photoInp = document.getElementById('photo');
        let photoName = document.getElementById('photoName');
        let photoBtn = document.getElementById('photoBtn');

        photoInp.addEventListener('change', (e) => {
           if(photoInp.files.length) {
               let new_file_input = '<div class="input-file-list-item">' +
                   '<span class="input-file-list-name">' + photoInp.files[0].name + '</span>' +
                   '<a href="#" onclick="removeFilesItem(); return false;" class="input-file-list-remove"></a>' +
                   '</div>';
               photoBtn.classList.add('d-none');
               photoName.innerHTML = new_file_input;
           }
        });


    }

    if (document.getElementById('slider')) {
        var swiper = new Swiper("#slider2", {
            spaceBetween: 20,
            slidesPerView: 4,
            freeMode: true,
            watchSlidesProgress: true,
            navigation: {
                nextEl: "#sliderNext",
                prevEl: "#sliderPrev",
            },
        });
        var swiper2 = new Swiper("#slider", {
            spaceBetween: 10,

            thumbs: {
                swiper: swiper,
            },
        });
    }

});

function removeFilesItem() {
    let photoInp = document.getElementById('photo');
    let photoName = document.getElementById('photoName');
    let photoBtn = document.getElementById('photoBtn');

    photoBtn.classList.remove('d-none');
    photoName.innerHTML = '';
    photoInp.value = '';
}
